<script setup lang="ts">
import { defineProps} from 'vue'
import { navigateTo } from '../assets/methods/navigateTo';

const props = defineProps({
    text: String,
    link: String,
    target: String
})

const handleClick = (event: Event) => {
  if (props.link && props.link.startsWith('#')) {
    event.preventDefault();
    const sectionId = props.link.substring(1);
    console.log(sectionId);
    navigateTo(sectionId);
  }
};

</script>
<template>
    <a 
        :href="link" 
        :target="target ?? '_self'" 
        class="btn inline-block relative"
        @click="handleClick"
    >
        <span>{{ text }}</span>
        <span class="diamond">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M6.535 3.25C6.24685 3.25009 5.96318 3.32134 5.70918 3.45741C5.45518 3.59348 5.23872 3.79017 5.079 4.03L1.49 9.412C1.271 9.742 1.245 10.164 1.422 10.518C3.38609 14.4461 6.11556 17.9419 9.45 20.8L11.2 22.301C11.4229 22.4921 11.7069 22.5971 12.0005 22.5971C12.2941 22.5971 12.5781 22.4921 12.801 22.301L14.551 20.801C17.8859 17.9427 20.6158 14.4465 22.58 10.518C22.757 10.164 22.73 9.742 22.511 9.412L18.92 4.03C18.7603 3.79049 18.5439 3.59409 18.2901 3.4582C18.0363 3.32232 17.7529 3.25115 17.465 3.251L6.535 3.25ZM6.327 4.861C6.34986 4.82682 6.38081 4.7988 6.41709 4.77944C6.45337 4.76008 6.49387 4.74997 6.535 4.75H8.875L6.96 9.346C6.91613 9.45115 6.88264 9.56034 6.86 9.672C6.15574 9.61942 5.45232 9.55608 4.75 9.482L3.345 9.335L6.327 4.861ZM3.28 10.836C5.0744 14.1281 7.44301 17.0727 10.274 19.531L7.149 11.197C6.29639 11.1384 5.44492 11.0644 4.595 10.975L3.28 10.836ZM8.786 11.29L12 19.864L15.215 11.29C13.0728 11.3874 10.9272 11.3874 8.785 11.29H8.786ZM16.853 11.197L13.728 19.531C16.559 17.0727 18.9276 14.1281 20.722 10.836L19.407 10.975C18.557 11.064 17.706 11.138 16.853 11.197ZM20.656 9.335L19.25 9.483C18.5477 9.55709 17.8443 9.62043 17.14 9.673C17.1178 9.56103 17.0846 9.4515 17.041 9.346L15.125 4.75H17.465C17.5061 4.74997 17.5466 4.76008 17.5829 4.77944C17.6192 4.7988 17.6501 4.82682 17.673 4.861L20.656 9.335ZM15.593 9.77C13.2 9.894 10.803 9.894 8.409 9.77L10.5 4.75H13.5L15.592 9.77H15.593Z" fill="white"/>
            </svg>
        </span>
    </a>
</template>